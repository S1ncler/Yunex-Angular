<app-navbar></app-navbar>
<div class="container-fluid d-flex w-100 main pt-5">
  <mat-accordion class="rounded-5 w-100 mb-4">
    <mat-expansion-panel
      (opened)="panelOpenState = true"
      (closed)="panelOpenState = false"
      *ngFor="let week of weeks"
    >
      <mat-expansion-panel-header class="p-5">
        <mat-panel-title>
          <mat-form-field>
            <mat-label>{{ week.semana }}</mat-label>
            <mat-select
              (click)="$event.stopPropagation()"
              (selectionChange)="imprimir()"
              [disabled]="week.horarios.horarioGeneralSemana.disabled"
              [(ngModel)]="week.horarios.horarioGeneralSemana.valor"
            >
              <mat-option *ngFor="let horario of horarios" [value]="horario">
                {{ horario }}
              </mat-option>
            </mat-select>
          </mat-form-field>
          <mat-form-field>
            <mat-label>Fin de {{ week.semana }}</mat-label>
            <mat-select
              (click)="$event.stopPropagation()"
              (selectionChange)="imprimir()"
              [disabled]="week.horarios.horarioGeneralFinSemana.disabled"
              [(ngModel)]="week.horarios.horarioGeneralFinSemana.valor"
            >
              <mat-option *ngFor="let horario of horarios" [value]="horario">
                {{ horario }}
              </mat-option>
            </mat-select>
          </mat-form-field>
        </mat-panel-title>
        <mat-panel-description> 
          <mat-form-field>
            <mat-label>Fin de {{ week }}</mat-label>
            <mat-select (click)="$event.stopPropagation()">
              <mat-option *ngFor="let horario of horarios" [value]="horario">
                {{ horario }}
              </mat-option>
            </mat-select>
          </mat-form-field>
          <span class="ms-3">Click aqui si trabajaste horas extras</span> </mat-panel-description>
      </mat-expansion-panel-header>
      <div *ngIf="week.includes('Semana')">
        <div *ngFor="let day of weekDays">
          <label class="form-label me-3">{{ day }} Ingresa el horario completo de trabajo</label>
          <div class="d-flex flex-wrap p-2">
            <mat-form-field>
              <mat-label>Inicio</mat-label>
              <mat-select (click)="$event.stopPropagation()">
                <mat-option *ngFor="let hora of horas" [value]="hora">
                  {{ hora }}
                </mat-option>
              </mat-select>
            </mat-form-field>
            <mat-form-field>
              <mat-label>Fin</mat-label>
              <mat-select (click)="$event.stopPropagation()">
                <mat-option *ngFor="let hora of horas" [value]="hora">
                  {{ hora }}
                </mat-option>
              </mat-select>
            </mat-form-field>
          </div>
        </div>
      </div>
    </mat-expansion-panel>
  </mat-accordion>
</div>
<app-footer></app-footer>
